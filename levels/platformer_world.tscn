[gd_scene load_steps=4 format=3 uid="uid://bos0kgufkj7rm"]

; --------------------------------------------------
; External Resources
; --------------------------------------------------
[ext_resource type="MeshLibrary" uid="uid://cbgfd8n7g6lge" path="res://assets/platformer_3d_env/3d_meshlib.tres" id="1_meshlib"]
[ext_resource type="PackedScene" uid="uid://du7xjyugkrgid" path="res://entity/rail.tscn" id="2_railscene"]

; --------------------------------------------------
; Sub-Resources
; --------------------------------------------------
[sub_resource type="Curve3D" id="Curve3D_wjy8o"]
resource_local_to_scene = true
_data = {
	"points": PackedVector3Array(
		0, 0, 0, 0, 0, 0, -1.44126, -1.83563, -1.6713, 0, 0, 0, 
		;  [Truncated for brevity, but keep your entire points data]
		;  ...

		1.30427, -3.299, -6.26594
	),
	"tilts": PackedFloat32Array(0, 0, 0, ... )
}
point_count = 29

; --------------------------------------------------
; Main Node: PlatformerWorld
; --------------------------------------------------
[node name="PlatformerWorld" type="Node3D"]
; Additional metadata or docstrings can go here:
; This node container is for a 3D platformer environment, containing a GridMap and a Path3D-based rail.

; --------------------------------------------------
; GridMap Node
; --------------------------------------------------
[node name="GridMap" type="GridMap" parent="."]
transform = Transform3D(3, 0, 0, 0, 3, 0, 0, 0, 3, 0, 0, 0)
mesh_library = ExtResource("1_meshlib")
cell_size = Vector3(1, 1, 1)
cell_center_y = false

data = {
	"cells": PackedInt32Array(
		1, 65535, 36, 0, 65535, 36, 65535, 0, 36, ...
		; [Truncated for brevity, but keep your entire cell data]
		...
		65534
	)
}
metadata/_editor_floor_ = Vector3(0, 0, 0) ; // example usage if needed

; --------------------------------------------------
; Rail Scene (Instanced)
; --------------------------------------------------
[node name="Rail" parent="." instance=ExtResource("2_railscene")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1, 3.153, 13.358)

; The Path3D node inside the Rail scene is where we attach a path/curve
[node name="Path3D" parent="Rail" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0118256, 0.0176239, 0.0195541)
curve = SubResource("Curve3D_wjy8o")

; Make this node directly editable in the editor
[editable path="Rail"]
